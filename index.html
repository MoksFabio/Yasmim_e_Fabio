<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ’– Yasmim & FÃ¡bio ðŸ’–</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --color-primary-dark: #2a3d66;
            --color-primary: #3a5a99;
            --color-primary-light: #6a8fcc;
            --color-accent: #a0c4ff;
            --color-text: #2c3e50;
            --color-text-light: #566573;
            --color-bg-dark: #1a1f2c;
            --color-bg-light: #f4f7fc;
            --color-bg-medium: #e4eaf6;
            --color-secondary: #d5e0f0; 
            --color-white: #ffffff;
            --color-shadow-rgb: 42, 61, 102;
            --color-shadow-light: rgba(var(--color-shadow-rgb), 0.12);
            --color-shadow-medium: rgba(var(--color-shadow-rgb), 0.20);
            --color-bg-light-rgb: 244, 247, 252;
            --color-accent-rgb: 160, 196, 255; 
            --color-primary-rgb: 58, 90, 153; 
            --color-bg-dark-gradient: linear-gradient(145deg, var(--color-bg-dark) 0%, var(--color-primary-dark) 60%, var(--color-primary) 100%);
            --gradient-primary-accent: linear-gradient(45deg, var(--color-primary), var(--color-accent));
            --font-display: 'Great Vibes', cursive;
            --font-heading: 'Poppins', sans-serif;
            --font-body: 'Montserrat', sans-serif;
            --shadow-light: 0 6px 20px var(--color-shadow-light);
            --shadow-medium: 0 10px 35px var(--color-shadow-medium);
            --border-radius-medium: 12px;
            --border-radius-large: 20px;
            --glass-bg: rgba(var(--color-bg-light-rgb), 0.75);
            --glass-border: rgba(var(--color-secondary), 0.6);
            --glass-blur: 8px; 
            --transition-smooth: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            --heart-icon-content: 'ðŸ’™';
            --heart-icon-color: var(--color-accent);
            --theme-toggle-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23ffffff'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z'/%3E%3C/svg%3E"); 
        }
        body.theme-pink {
            --color-primary-dark: #a01a58;
            --color-primary: #c2185b;
            --color-primary-light: #e91e63;
            --color-accent: #ff80ab;
            --color-text: #333333;
            --color-text-light: #666666;
            --color-bg-light: #fffafa;
            --color-bg-medium: #fce4ec; 
            --color-secondary: #f8bbd0; 
            --color-shadow-rgb: 100, 20, 50;
            --color-bg-light-rgb: 255, 250, 250;
            --color-accent-rgb: 255, 128, 171;
            --color-primary-rgb: 194, 24, 91;
            --color-bg-dark-gradient: linear-gradient(145deg, #6d2b4a 0%, #a01a58 50%, #c2185b 100%);
            --gradient-primary-accent: linear-gradient(45deg, var(--color-primary), var(--color-accent));
            --glass-bg: rgba(var(--color-bg-light-rgb), 0.75);
            --glass-border: rgba(var(--color-secondary), 0.6);
            --heart-icon-content: 'ðŸ’–';
            --heart-icon-color: var(--color-accent);
             --theme-toggle-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23ffffff'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z'/%3E%3C/svg%3E"); 
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body {
            font-family: var(--font-body); color: var(--color-text); background-color: var(--color-bg-light);
            line-height: 1.7; font-weight: 300; overflow-x: hidden; 
            transition: background-color 0.5s ease, color 0.5s ease;
            min-height: 100vh;
            display: flex; 
            flex-direction: column; 
        }
        body.loading { overflow: hidden; } 
        body.lightbox-open { overflow: hidden; } 
        ::selection { background-color: var(--color-accent); color: var(--color-white); }
        img { max-width: 100%; height: auto; display: block; }
        h1, h2 { font-family: var(--font-heading); letter-spacing: 0.5px; }
        button { font-family: inherit; border: none; background: none; cursor: pointer; }
        a { text-decoration: none; color: var(--color-primary); }
        a:hover { color: var(--color-primary-light); }

        :focus-visible {
            outline: 3px solid var(--color-primary-light);
            outline-offset: 3px;
            box-shadow: 0 0 0 5px rgba(var(--color-primary-rgb), 0.3);
            border-radius: 4px;
        }
        :focus { outline: none; }


        .preloader {
            position: fixed; inset: 0;
            background: var(--color-primary); z-index: 9999;
            display: grid; 
            place-items: center;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }
        .preloader.hidden { opacity: 0; visibility: hidden; }
        .heart-loader {
            width: 100px; height: 100px; position: relative;
            animation: pulseHeart 1.2s infinite ease-in-out;
        }
        .heart-loader svg { fill: var(--color-white); width: 100%; height: 100%; }
        @keyframes pulseHeart { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }

        .intro-section {
            min-height: 100vh; 
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; padding: 40px 20px; 
            position: relative; overflow: hidden;
            background: var(--color-bg-dark-gradient); color: var(--color-white);
        }
        .intro-content { opacity: 0; transform: translateY(20px); width: 90%; max-width: 700px; } 
        .intro-section .intro-title { 
            font-family: var(--font-display);
            font-size: clamp(3rem, 13vw, 7rem);
            text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5); margin-bottom: 25px;
            font-weight: normal; min-height: 1.2em; 
            word-wrap: break-word; 
        }
        .intro-section .intro-subtitle { 
            font-size: clamp(1rem, 4vw, 1.4rem);
            max-width: 90%; 
            margin-left: auto; 
            margin-right: auto; 
            text-shadow: 1px 1px 8px rgba(0, 0, 0, 0.4); margin-bottom: 50px;
            font-weight: 300; letter-spacing: 0.5px;
        }
        .scroll-down {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            color: var(--color-white); font-size: 1rem; 
            opacity: 0; 
            display: flex; flex-direction: column; align-items: center; gap: 8px;
            transition: color 0.3s ease, transform 0.3s ease; 
            cursor: pointer;
        }
        .scroll-down:hover { color: var(--color-accent); transform: translateX(-50%) scale(1.1); }
        .scroll-down svg {
            width: 26px; height: 26px;
            animation: bounceArrow 2s infinite; fill: currentColor; 
        }
        @keyframes bounceArrow { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-12px); } 60% { transform: translateY(-6px); } }

        .main-content {
             padding: 60px 15px 80px 15px; 
             position: relative; z-index: 1; overflow: hidden;
             flex-grow: 1; 
        }
        body::before {
            content: ''; position: fixed; inset: 0; z-index: -2;
            background-image: linear-gradient(160deg, var(--color-bg-medium) 0%, var(--color-bg-light) 70%);
            background-attachment: fixed;
            transition: background-image 0.5s ease;
        }
        #particles-js { position: fixed; inset: 0; z-index: -1; }

        .container {
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur)); 
            padding: clamp(25px, 5vw, 60px);
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-medium);
            max-width: 950px;
            width: 92%; 
            margin: 60px auto; 
            position: relative; z-index: 10;
            border: 1px solid var(--glass-border);
            overflow: hidden;
            opacity: 0; 
            transform: translateY(40px); 
            transition: background-color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease, transform 0.4s ease;
        }
        @media (hover: hover) {
            .container:hover {
                box-shadow: 0 15px 45px var(--color-shadow-medium);
                transform: translateY(-5px) scale(1.01);
            }
        }

        @supports not (backdrop-filter: blur(8px)) {
            .container { background: rgba(var(--color-bg-light-rgb), 0.95); }
        }

        /* --- TÃ­tulos de SeÃ§Ã£o --- */
        .section-title {
            font-weight: 600; color: var(--color-primary-dark);
            font-size: clamp(1.8rem, 6vw, 2.5rem);
            text-align: center;
            margin-bottom: 50px; 
            position: relative;
            padding-bottom: 15px; 
            min-height: 1.3em; 
            word-wrap: break-word; 
        }
        .section-title::after {
            content: ''; position: absolute; bottom: 0; left: 50%;
            transform: translateX(-50%);
            width: 70px; 
            height: 4px; 
            background: var(--gradient-primary-accent); border-radius: 3px;
            transition: width 0.5s ease, background 0.5s ease;
        }
         @media (hover: hover) {
            .container:hover .section-title::after { width: 100px; }
        }


        .declaracao {
            color: var(--color-text); line-height: 1.8; margin-bottom: 30px;
            text-align: left;
            font-size: clamp(0.95rem, 2.5vw, 1.1rem); 
            font-weight: 400;
        }
        .declaracao strong { color: var(--color-primary); font-weight: 600; }
        .declaracao .highlight {
            color: var(--color-primary-light); background-color: rgba(var(--color-accent-rgb), 0.15);
            border-radius: var(--border-radius-medium);
            transition: color 0.5s ease, background-color 0.5s ease;
        }
        .declaracao p {
            margin-bottom: 20px; 
            opacity: 0; transform: translateY(20px); 
        }
        .declaracao p:last-child { margin-bottom: 0; }

        .reasons-container ul {
            list-style: none; padding: 0; margin: 0 auto;
            max-width: 650px; text-align: left;
        }
        .reasons-container li {
            font-size: clamp(0.95rem, 2.5vw, 1.05rem); 
            color: var(--color-text);
            margin-bottom: 18px; 
            padding-left: 35px; 
            position: relative;
            opacity: 0; transform: translateX(-30px); 
            transition: color 0.3s ease; cursor: default;
        }
        @media (hover: hover) {
             .reasons-container li:hover { color: var(--color-primary); }
             .reasons-container li:hover::before { transform: scale(1.2) rotate(-10deg); }
              .reasons-container li:hover strong { color: var(--color-primary); }
        }

        .reasons-container li::before {
            content: var(--heart-icon-content); color: var(--heart-icon-color);
            position: absolute; left: 0; top: -2px;
            font-size: 1.4em; 
            animation: pulseHeart 2.5s infinite ease-in-out;
            transition: transform 0.3s ease, color 0.5s ease;
        }
        .reasons-container li:nth-child(odd)::before { animation-delay: 0.3s; }
        .reasons-container li:nth-child(even)::before { animation-delay: 0.6s; }
        .reasons-container li strong {
            color: var(--color-primary-dark); 
            font-weight: 500; 
            display: inline; 
            margin-right: 5px; 
            transition: color 0.3s ease; 
        }
        .gallery-music-container .section-subtitle { 
            color: var(--color-text-light); margin-bottom: 30px; 
            font-size: clamp(1rem, 3vw, 1.15em); 
            text-align: center; font-weight: 400;
        }

        /* Carrossel */
        .carousel-wrapper { margin-bottom: 40px; text-align: center; }
        .carousel-container {
            position: relative; max-width: 550px; 
            width: 100%; 
            margin: 30px auto 25px auto; 
            overflow: hidden; 
            border-radius: var(--border-radius-medium);
            box-shadow: var(--shadow-light); 
        }
        .carousel-slide {
            display: none; width: 100%;
            animation: fadeEffect 1s ease-in-out; 
            background-color: var(--color-white);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .carousel-slide figure { margin: 0; position: relative; } 
        .carousel-slide img {
            width: 100%; height: auto; display: block;
            max-height: 60vh; 
            object-fit: cover;
            border-radius: 0; 
            cursor: pointer; 
        }
        .carousel-slide figcaption { 
              position: absolute; bottom: 0; left: 0; width: 100%;
              background: rgba(0, 0, 0, 0.6); color: white;
              padding: 8px; 
              font-size: 0.85em; 
              text-align: center;
              opacity: 0; transition: opacity 0.3s ease;
              pointer-events: none; 
        }
        @media (hover: hover) {
           .carousel-slide:hover figcaption { opacity: 1; }
        }


        .carousel-nav { 
            position: absolute; top: 50%; transform: translateY(-50%);
            width: 100%; 
            left: 0; 
            padding: 0 10px;
            box-sizing: border-box; 
            display: flex; justify-content: space-between;
            pointer-events: none; 
            z-index: 20;
        }
        .carousel-button { 
            padding: 10px; 
            color: var(--color-primary); font-weight: bold;
            font-size: 24px; 
            transition: var(--transition-smooth), transform 0.3s ease;
            border-radius: 50%; user-select: none;
            background-color: rgba(var(--color-bg-light-rgb), 0.9);
            width: 45px; height: 45px; 
            display: flex; align-items: center; justify-content: center;
            box-shadow: var(--shadow-light); border: 1px solid var(--color-secondary);
            cursor: pointer; pointer-events: auto; 
        }
        @media (hover: hover) {
            .carousel-button:hover {
                background-color: var(--color-white); color: var(--color-accent);
                transform: scale(1.15); box-shadow: var(--shadow-medium);
            }
        }

        .carousel-dots { text-align: center; padding-top: 20px; }
        .dot {
            height: 12px; width: 12px; 
            margin: 0 5px; 
            background-color: var(--color-secondary); border-radius: 50%; display: inline-block;
            transition: var(--transition-smooth), transform 0.3s ease;
            border: 2px solid transparent; cursor: pointer;
        }
        .active, .dot:hover {
            background-color: var(--color-primary); transform: scale(1.3); 
            border-color: var(--color-primary-light);
        }
        @keyframes fadeEffect { from {opacity: .5} to {opacity: 1} }

        /* Lightbox */
        .lightbox {
            background-color: rgba(26, 31, 44, 0.95); 
            position: fixed; inset: 0; z-index: 9000;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
            padding: 15px; cursor: pointer;
        }
        .lightbox.show { opacity: 1; visibility: visible; }
        .lightbox-content {
            position: relative; max-width: 95%; max-height: 90%; 
            cursor: default; 
            transform: scale(0.8); 
            transition: transform 0.4s ease;
        }
        .lightbox.show .lightbox-content { transform: scale(1); }
        .lightbox-content img {
            display: block; width: auto; height: auto;
            max-width: 100%; max-height: 100%; object-fit: contain;
            box-shadow: 0 15px 40px rgba(0,0,0,0.6); 
            border-radius: 5px;
        }
        .lightbox-close {
            position: absolute; top: -10px; right: -10px;
            width: 38px; height: 38px; 
            background-color: var(--color-white); color: var(--color-primary);
            border-radius: 50%; border: none; font-size: 22px; 
            font-weight: bold; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3); line-height: 1;
            transition: var(--transition-smooth), transform 0.3s ease;
            cursor: pointer; z-index: 9010; 
        }
        @media (hover: hover) {
            .lightbox-close:hover {
                background-color: var(--color-secondary);
                transform: scale(1.1) rotate(90deg);
            }
        }

        .music-player { margin-top: 50px; text-align: center; }
        #play-pause-button {
            background: var(--gradient-primary-accent); color: var(--color-white);
            border: none; padding: 0; border-radius: 50%;
            font-size: 1.6rem; 
            box-shadow: var(--shadow-medium);
            transition: var(--transition-smooth), transform 0.3s ease;
            width: 60px; height: 60px;
            display: inline-flex; align-items: center; justify-content: center;
            margin-bottom: 10px;  cursor: pointer;
            overflow: hidden; 
        }
        @media (hover: hover) {
            #play-pause-button:hover {
                transform: scale(1.1); 
                box-shadow: 0 8px 25px rgba(var(--color-primary-rgb), 0.4);
            }
        }
        #play-pause-button svg { width: 28px; height: 28px; }
        .music-player .song-title {
            font-size: 1em; 
            color: var(--color-text-light);
            margin-top: 10px;  font-weight: 400;
            opacity: 0; visibility: hidden;
            transition: opacity 0.6s ease, visibility 0.6s ease, color 0.5s ease;
            height: 1.5em; 
            display: block;
            padding: 0 10px; 
            word-wrap: break-word; 
        }
        .music-player .song-title.visible { opacity: 1; visibility: visible; }
        .music-player .song-title strong { color: var(--color-primary); font-weight: 500; }
        .footer-container {
            position: relative; 
            background-image: url('Praia.jpg'); 
            background-size: cover; 
            background-position: center center; 
            background-repeat: no-repeat; 
            overflow: hidden; 
            z-index: 0; 
            margin-top: 40px; 
        }
        .footer-container::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.5); 
            z-index: 1; 
            border-radius: inherit; 
            pointer-events: none; 
        }
        .site-footer {
            position: relative; 
            z-index: 2; 
            color: var(--color-white); 
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7); 
            font-weight: 400;
            text-align: center;
            line-height: 1.6;
            font-size: clamp(1rem, 3vw, 1.1rem); 
            margin-top: 0; 
        }
        .site-footer strong {
            font-weight: 600;
        }
        .site-footer .heart-icon {
            fill: var(--color-white);
            width: 1.2em; 
            height: 1.2em; 
            vertical-align: -0.2em;
            margin: 0 4px; 
            animation: pulseHeart 1.5s infinite ease-in-out 0.3s;
            transition: fill 0.5s ease;
            filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.6));
        }
        body.theme-pink .site-footer {
            color: var(--color-white); 
        }
        body.theme-pink .site-footer .heart-icon {
            fill: var(--color-white); 
            filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.6));
        }
        #theme-toggle-button {
            position: fixed; bottom: 20px; right: 20px; z-index: 1000;
            background-color: var(--color-primary); color: var(--color-white);
            border: none; border-radius: 50%;
            width: 50px; height: 50px; font-size: 1.6rem; line-height: 1;
            box-shadow: var(--shadow-medium); cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden; 
        }
        @media (hover: hover) {
            #theme-toggle-button:hover {
                transform: scale(1.1); background-color: var(--color-primary-dark);
            }
             #theme-toggle-button:hover::before {
                 transform: rotate(15deg);
             }
        }

        #theme-toggle-button::before { 
              content: '';
              display: inline-block;
              width: 26px; height: 26px; 
              background-color: currentColor; 
              mask-image: var(--theme-toggle-icon);
              mask-size: cover;
              -webkit-mask-image: var(--theme-toggle-icon); 
              -webkit-mask-size: cover;
              transition: transform 0.3s ease;
        }
        .list-source {
            font-size: 0.85em; 
            font-style: italic; 
            text-align: right; 
            color: var(--color-text-light);
            margin-top: 25px; 
            padding-right: 5px; 
        }
        body.theme-pink .list-source {
             color: #888; 
        }
        @media (max-width: 768px) {
            .container {
                 margin: 40px auto; 
             }
             .section-title {
                 margin-bottom: 40px;
             }
             .reasons-container li {
                 padding-left: 30px; 
             }
             .reasons-container li::before {
                  font-size: 1.3em; 
             }

             .carousel-button {
                 width: 42px; height: 42px; font-size: 22px;
             }
            .lightbox-close {
                top: 5px; right: 5px; width: 35px; height: 35px; font-size: 20px;
            }
        }

         @media (max-width: 480px) {
             .intro-section .intro-title {
                 margin-bottom: 20px;
             }
             .intro-section .intro-subtitle {
                  margin-bottom: 40px;
             }
             .scroll-down {
                 bottom: 20px; 
             }
             .container {
                  width: 95%; 
                  padding: clamp(20px, 4vw, 35px); 
             }
             .section-title {
                 margin-bottom: 30px;
                 padding-bottom: 10px;
             }
             .section-title::after {
                 width: 60px; height: 3px;
             }
              .declaracao {
                 line-height: 1.7; 
             }
             .declaracao .highlight {
                 margin: 25px 0;
                 padding: 10px 12px;
             }
             .declaracao p { margin-bottom: 15px; }

             .reasons-container li { margin-bottom: 15px; padding-left: 28px; }
             .reasons-container li::before { font-size: 1.2em; }

             .carousel-nav { display: none; }
             .carousel-dots { padding-top: 15px; }
             .dot { height: 14px; width: 14px; margin: 0 6px; } 
             .carousel-slide img { max-height: 55vh; } 

             .music-player { margin-top: 40px; }
             #play-pause-button { width: 55px; height: 55px; }
             #play-pause-button svg { width: 26px; height: 26px; }
             .music-player .song-title { font-size: 0.9em; margin-top: 8px;}

             #theme-toggle-button {
                 width: 48px; height: 48px; bottom: 15px; right: 15px;
             }
             #theme-toggle-button::before {
                 width: 24px; height: 24px;
             }

             .list-source {
                 font-size: 0.8em; margin-top: 20px;
             }
         }

    </style>
</head>
<body class="loading"> <div class="preloader">
        <div class="heart-loader" aria-label="Carregando...">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
        </div>
    </div>

    <div id="particles-js"></div>

    <button id="theme-toggle-button" aria-label="Mudar para tema rosa">
        </button>

    <section class="intro-section" aria-labelledby="intro-heading">
        <div class="intro-content">
            <h1 id="intro-heading" class="intro-title">Yasmim,</h1>
            <p class="intro-subtitle">MÃªs passado rolou um 'sim' que iniciou nossa aventura mais linda. (Que jÃ¡ havia INICIADO KKKKKK) </p>
        </div>
        <div class="music-player">
                <audio id="background-music" src="N Nando Reis.mp3" data-title="N - Nando Reis & ANAVITORIA" loop preload="metadata"></audio>
                <button id="play-pause-button" aria-label="Tocar Nossa MÃºsica">
                    <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
                    <svg class="pause-icon" style="display: none;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
                </button>
                <p class="song-title" id="song-info" aria-live="polite"></p>
            </div>
    </section>

    <main id="main-content-area" class="main-content">

        <div class="container declaration-container" role="article" aria-labelledby="declaracao-title">
            <h2 class="section-title" id="declaracao-title">Binho diz isso para ti...</h2>
            <div class="declaracao">
                <p class="line">Ã‰ engraÃ§ado como o tempo voa, nÃ©? Parece que foi ontem mesmo que a gente se cruzou, e ao mesmo tempo, sinto que jÃ¡ vivemos uma vida inteira nesse primeiro mÃªs. Um mÃªs que, pra mim, vale por anos. Obrigado por chegar e fazer tudo ganhar mais cor, por ser essa calma boa no meio da correria, essa paz que eu nem sabia que precisava tanto.</p>
                <p class="line">Ainda me pego sorrindo sozinho, lembrando daquele dia em que te pedi em namoro, praia e sargaÃ§o, um pedido simples, porÃ©m poderoso. Eu queria era chorar ali contigo, mas nÃ£o dei conta, sÃ³ me vinha felicidade ao contar tudo sobre essa nova etapa a que iriamos ir.</p>
                <p class="line highlight">Yasmim, vocÃª nÃ£o chegou para ser um capÃ­tulo da minha vida, vocÃª se tornou a histÃ³ria inteira que eu sempre sonhei em viver. Isso fica martelando aqui, porque Ã© exatamente isso.</p>
                <p class="line">E o que falar de vocÃª? Fico bobo admirando seus gostos para animes, sÃ©ries, (filme quase nunca), saiba que irei terminar de assistir Cavaleiros dos ZodÃ­acos e NÃƒO quero sentir ciÃºmes por causa de mim! Eu me derreto com seu seu jeitinho de reclamar de tudo e de todos, tipo isso, ponha a pica para fora e fale, fique calada nÃ£o! Sua risada Ã© tÃ£o alta e gostosa e me sinto inspirado todo santo dia pela sua comunicaÃ§Ã£o comigo, querendo sempre dizer que tem algo para melhorar ainda mais. VocÃª simplesmente transforma o dia a dia em algo... mÃ¡gico, sem nem perceber.</p>
                <p class="line">Esse mÃªs foi sÃ³ o comecinho da nossa trilha sonora, a primeira nota da nossa mÃºsica. E mal posso esperar pra continuar descobrindo essa melodia com vocÃª, um dia de cada vez, pro resto da vida.</p>
                <p class="line highlight"><strong>Eu te amo, Yasmim. Meu coraÃ§Ã£o nÃ£o aguenta, Ã© um sentimento que transborda uma paixÃ£o, que nÃ£o cabe direito em palavra nenhuma. VocÃª Ã© meu agora e tudo que eu quero pro futuro. Meu melhor lugar.</strong></p>
            </div>
        </div>

        <div class="container reasons-container" role="region" aria-labelledby="reasons-title">
            <h2 class="section-title" id="reasons-title">10 Coisas (entre Infinitas) Que Amo em VocÃª...</h2>
            <ul>
                <li>
                    <strong>Sua Confiabilidade:</strong> Saber que posso contar com vocÃª em qualquer situaÃ§Ã£o me traz uma paz imensa. VocÃª Ã© meu porto seguro.
                </li>
                <li>
                    <strong>Nossos Momentos de SilÃªncio:</strong> O conforto de estar ao seu lado, mesmo sem dizer uma palavra, Ã© algo que valorizo demais. Sua presenÃ§a preenche tudo.
                </li>
                <li>
                    <strong>Nossas MemÃ³rias:</strong> Adoro relembrar cada momento que passamos juntos, reviver as emoÃ§Ãµes e perceber o quanto construÃ­mos.
                </li>
                <li>
                    <strong>Sua Sinceridade:</strong> Sua honestidade e abertura me encantam. Amo a sua capacidade de ser vocÃª mesma, sem filtros.
                </li>
                <li>
                    <strong>Sua Autenticidade:</strong> VocÃª nÃ£o tem medo de ser quem Ã©, e isso Ã© uma das coisas que mais admiro em vocÃª. Sua verdade me inspira.
                </li>
                <li>
                    <strong>Seu Amor RecÃ­proco:</strong> Cada "Binho, eu amo vocÃª" aquece minha alma e reforÃ§a a certeza do nosso amor.
                </li>
                <li>
                    <strong>Sua Voz:</strong> O jeito que vocÃª fala e canta tem o poder de acalmar minha mente e minha alma. Ã‰ como uma melodia para mim.
                </li>
                <li>
                    <strong>Sua Alma:</strong> Entre tantas qualidades, o que mais amo em vocÃª Ã© a sua essÃªncia, a beleza da sua alma.
                </li>
                <li>
                    <strong>A AdmiraÃ§Ã£o em Seus Olhos:</strong> Quando me olha, sinto a admiraÃ§Ã£o que nutre, e saiba que em mim essa admiraÃ§Ã£o por vocÃª Ã© ainda maior, por ter vocÃª na minha vida.
                </li>
                <li>
                    <strong>O Quanto VocÃª Ã© IncrÃ­vel:</strong> Meu maior "medo" Ã© que um dia vocÃª perceba o quÃ£o maravilhosa vocÃª Ã© e o quanto merece tudo de mais especial... porque vocÃª significa o mundo para mim, e a vida sem vocÃª Ã© inimaginÃ¡vel.
                </li>
            </ul>
            <p class="list-source"><em>O JARDIM DO MEU CORAÃ‡ÃƒO, 50 FLORES DE AMOR POR YASMIM</em></p>
        </div>

        <div class="container gallery-music-container" role="region" aria-labelledby="gallery-title">
            <h2 class="section-title" id="gallery-title">Nossas MemÃ³rias em Fotos</h2>
            <p class="section-subtitle">Alguns dos nossos momentos especiais eternizados...</p>

            <div class="carousel-wrapper">
                <div class="carousel-container" aria-label="Galeria de fotos do casal">
                    <div class="carousel-slide">
                        <figure>
                             <img src="Yasmim 1.jpg" alt="">
                             </figure>
                    </div>
                    <div class="carousel-slide">
                         <figure>
                             <img src="Yasmim 2.jpg" alt="">
                         </figure>
                    </div>
                    <div class="carousel-slide">
                        <figure>
                            <img src="Yasmim 3.jpg" alt="">
                         </figure>
                    </div>
                    <div class="carousel-slide">
                         <figure>
                            <img src="Yasmim 4.jpg" alt="">
                         </figure>
                    </div>
                    <div class="carousel-slide">
                        <figure>
                             <img src="Yasmim 5.jpg" alt="">
                         </figure>
                    </div>
                    <div class="carousel-slide">
                        <figure>
                             <img src="Yasmim 6.jpg" alt="">
                         </figure>
                    </div>
                    <div class="carousel-slide">
                         <figure>
                            <img src="Yasmim 7.jpg" alt="">
                        </figure>
                    </div>
                    <div class="carousel-slide">
                        <figure>
                            <img src="Yasmim 8.jpg" alt="">
                        </figure>
                    </div>
                </div>
                <div class="carousel-nav">
                   <button class="carousel-button prev" aria-label="Foto anterior">&#10094;</button>
                   <button class="carousel-button next" aria-label="PrÃ³xima foto">&#10095;</button>
               </div>
               <div class="carousel-dots"></div>
            </div>
        </div>

        <div class="container footer-container">
            <footer class="site-footer">
                Para todo o sempre seu,<br> com cada batida do meu coraÃ§Ã£o,
                <br>
                <strong>FÃ¡bio</strong>
                <svg class="heart-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" aria-hidden="true"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                <strong>Yasmim</strong>
            </footer>
        </div>

    </main>

    <div class="lightbox" id="photo-lightbox" role="dialog" aria-modal="true" aria-labelledby="lightbox-title">
        <div class="lightbox-content" role="document">
            <h2 id="lightbox-title" style="position:absolute; left:-9999px; top: -9999px;">Foto Ampliada</h2>
            <img src="" alt="" id="lightbox-image">
            <button class="lightbox-close" aria-label="Fechar foto ampliada">&times;</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/TextPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>

    <script>
        const body = document.body;
        const preloader = document.querySelector('.preloader');
        const themeToggleButton = document.getElementById('theme-toggle-button');
        let particlesInstance = null;
        function applySavedTheme() {
            const savedTheme = localStorage.getItem('themePreference');
            // Example: Default to 'blue', you could change this
            const defaultTheme = 'blue';
            // Determine current theme - uses saved, otherwise defaults
            const currentTheme = savedTheme || defaultTheme;

            if (currentTheme === 'pink') {
                body.classList.add('theme-pink');
                if (themeToggleButton) themeToggleButton.setAttribute('aria-label', 'Mudar para tema azul');
            } else {
                body.classList.remove('theme-pink');
                if (themeToggleButton) themeToggleButton.setAttribute('aria-label', 'Mudar para tema rosa');
            }
            // Update particles after setting initial theme
            if (particlesInstance) {
                 updateParticleColors(currentTheme);
            } else {
                // If particles haven't initialized yet, ensure they get the right color
                 document.addEventListener('particlesInitialized', () => updateParticleColors(currentTheme), { once: true });
            }
        }

        /**
         * Retorna as cores das partÃ­culas com base no tema.
         * @param {string} theme - 'pink' ou 'blue'.
         * @returns {string[]} Array de cores hexadecimais.
         */
        function getParticleColors(theme) {
             // Using direct values for simplicity, ensure they match CSS vars if changed
             if (theme === 'pink') {
                 return ["#c2185b", "#e91e63", "#ff80ab", "#f8bbd0", "#ffffff"];
             } else {
                 return ["#3a5a99", "#6a8fcc", "#a0c4ff", "#d5e0f0", "#ffffff"];
             }
        }

        /**
         * Atualiza as cores das partÃ­culas na instÃ¢ncia existente.
         * @param {string} theme - 'pink' ou 'blue'.
         */
         function updateParticleColors(theme) {
             if (!particlesInstance) return;
             const newColors = getParticleColors(theme);
             const particlesOptions = particlesInstance.options?.particles;
             if (particlesOptions?.color) {
                 particlesOptions.color.value = newColors;
                  // Try to update link color too if it exists and uses specific theme color
                 if (particlesOptions.links?.color && typeof particlesOptions.links.color === 'string') {
                     // Example: using accent or secondary colors for links based on theme
                     particlesOptions.links.color = theme === 'pink' ? '#f8bbd0' /* Pink Secondary */ : '#a0c4ff' /* Blue Accent */;
                 } else if (particlesOptions.links?.color) {
                     // If link color is an object (like {random: true}), might leave it or handle differently
                 }

                 particlesInstance.refresh().catch(error => {
                     console.error("Erro ao atualizar partÃ­culas:", error);
                 });
             } else {
                 console.warn("NÃ£o foi possÃ­vel encontrar as opÃ§Ãµes de cor das partÃ­culas para atualizar.");
             }
         }


        // --- Inicializadores ---

        /**
         * Inicializa o Preloader e a sequÃªncia de inicializaÃ§Ã£o pÃ³s-load.
         */
        function initPreloader() {
            window.addEventListener('load', () => {
                // Apply theme BEFORE removing preloader to avoid color flash
                applySavedTheme();
                // Short delay for initial rendering
                setTimeout(() => {
                    if (preloader) preloader.classList.add('hidden');
                    body.classList.remove('loading');

                    // Initialize other features after preloader fades
                    initIntroAnimation();
                    initScrollAnimations();
                    initParticles(); // Initialize particles here
                    // Other initializations (Carousel, Lightbox, Music) are in their IIFEs
                }, 300); // Adjust timing if needed
            });
        }

        /**
         * Inicializa o botÃ£o de troca de tema. (IIFE - Immediately Invoked Function Expression)
         */
        (function initThemeToggler() {
            if (!themeToggleButton) return;

            themeToggleButton.addEventListener('click', () => {
                body.classList.toggle('theme-pink');
                const isPink = body.classList.contains('theme-pink');
                const newTheme = isPink ? 'pink' : 'blue';
                localStorage.setItem('themePreference', newTheme);
                updateParticleColors(newTheme); // Update particles on toggle
                themeToggleButton.setAttribute('aria-label', isPink ? 'Mudar para tema azul' : 'Mudar para tema rosa');
            });
        })(); // Auto-executes

        /**
         * Inicializa a biblioteca tsParticles.
         */
        async function initParticles() {
            if (typeof tsParticles === 'undefined') {
                console.error("Biblioteca tsParticles nÃ£o carregada.");
                return;
            }
            const currentTheme = body.classList.contains('theme-pink') ? 'pink' : 'blue';
            const particleColors = getParticleColors(currentTheme);
            const linkColor = currentTheme === 'pink' ? '#f8bbd0' : '#a0c4ff'; // Match updateParticleColors logic

            try {
                const options = {
                    fpsLimit: 60,
                    particles: {
                         // MOBILE: Reduced particle count slightly more
                        number: { value: 35, density: { enable: true, value_area: 800 } },
                        color: { value: particleColors },
                        shape: { type: "circle" },
                        opacity: {
                            value: { min: 0.1, max: 0.4 }, // Slightly lower max opacity
                            animation: { enable: true, speed: 0.8, minimumValue: 0.1, sync: false }
                        },
                        size: {
                            value: { min: 1, max: 3 }, // Keep size small
                            animation: { enable: false }
                        },
                        links: {
                            enable: true, distance: 150,
                            // Use the determined link color
                            color: linkColor, // Set specific link color based on theme
                            opacity: 0.3, width: 1
                        },
                        move: {
                            enable: true, speed: 0.6, direction: "none", random: true,
                            straight: false, out_mode: "out", bounce: false,
                            attract: { enable: false }
                        }
                    },
                    interactivity: {
                        detect_on: "canvas",
                        events: {
                            onhover: { enable: true, mode: "bubble" },
                            onclick: { enable: false }, // Keep click disabled
                            resize: true
                        },
                        modes: {
                            bubble: { distance: 100, size: 4, duration: 1.5, opacity: 0.8 } // Slightly smaller bubble effect
                        }
                    },
                    detectRetina: true,
                    background: { color: "transparent" }
                };
                particlesInstance = await tsParticles.load("particles-js", options);
                 // Dispatch event indicating particles are ready
                document.dispatchEvent(new CustomEvent('particlesInitialized'));
            } catch (error) {
                console.error("Erro ao carregar tsParticles:", error);
            }
        }


        /**
         * Inicializa as animaÃ§Ãµes da introduÃ§Ã£o com GSAP.
         */
        function initIntroAnimation() {
            if (typeof gsap === 'undefined') { console.error("GSAP nÃ£o carregado."); return; }
            gsap.registerPlugin(TextPlugin);

            const tlIntro = gsap.timeline({ defaults: { ease: "power3.out" } });
            const introTitleElement = document.querySelector('.intro-title');
            const introSubtitleElement = document.querySelector('.intro-subtitle');
            const scrollDownElement = document.querySelector('.scroll-down');

            // Ensure elements exist before animating
             if (!introTitleElement || !introSubtitleElement || !scrollDownElement) {
                 console.warn("Elementos da introduÃ§Ã£o nÃ£o encontrados para animaÃ§Ã£o.");
                 // Fallback: make content visible immediately if elements are missing
                 const introContent = document.querySelector('.intro-content');
                 if (introContent) introContent.style.opacity = 1;
                 if (scrollDownElement) scrollDownElement.style.opacity = 1;
                 return;
             }


            tlIntro
                .to('.intro-content', { opacity: 1, y: 0, duration: 1.2, delay: 0.3 }) // Added slight delay
                .to(introTitleElement, {
                    duration: 1.8,
                     // Ensure textContent exists before trying to read it
                    text: { value: introTitleElement.textContent || "Yasmim," },
                    ease: "none"
                 }, "-=0.7")
                .from(introSubtitleElement, { y: 25, opacity: 0, duration: 1 }, "-=1.2")
                .to(scrollDownElement, { y: 0, opacity: 1, duration: 1 }, "-=0.6");
        }

        /**
         * Inicializa as animaÃ§Ãµes de scroll com GSAP e ScrollTrigger.
         */
        function initScrollAnimations() {
            if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') {
                console.error("GSAP ou ScrollTrigger nÃ£o carregado."); return;
            }
            gsap.registerPlugin(ScrollTrigger, TextPlugin);

            // General container fade-in animation
            gsap.utils.toArray('.container').forEach((container, i) => {
                gsap.fromTo(container,
                    { opacity: 0, y: 60 }, // Start slightly lower
                    {
                        opacity: 1, y: 0, duration: 0.8, ease: "power2.out", // Faster duration
                        scrollTrigger: {
                            trigger: container,
                            start: "top 90%", // Trigger sooner
                            end: "bottom top+=100", // End sooner
                            toggleActions: "play none none reset",
                            // scrub: 1 // Uncomment for scroll-linked effect (can impact performance)
                        }
                    }
                );
            });

             // Section title typing animation (consider disabling on mobile if too distracting)
            // Check screen width before applying text animation
             if (window.innerWidth > 768) { // Example: Only animate text on larger screens
                 gsap.utils.toArray('.section-title').forEach(title => {
                    const originalText = title.textContent;
                    if (!originalText) return; // Skip if no text
                    title.textContent = ''; // Clear for effect
                    gsap.to(title, {
                        duration: 1.2, // Faster duration
                        text: { value: originalText, delimiter: "" },
                        ease: "none",
                        scrollTrigger: {
                            trigger: title,
                            start: "top 90%",
                            toggleActions: "play none none none" // Play once
                        }
                    });
                 });
             } else {
                  // On smaller screens, ensure titles are visible immediately if animation is skipped
                 gsap.utils.toArray('.section-title').forEach(title => {
                    // If the container animation handles opacity, this might not be needed
                    // title.style.opacity = 1;
                 });
             }

            // Stagger animation for declaration paragraphs/highlights
             const declarationLines = gsap.utils.toArray('.declaracao .line, .declaracao .highlight');
             if (declarationLines.length > 0) {
                 gsap.fromTo(declarationLines,
                     { y: 25, opacity: 0 }, // Start slightly lower
                     {
                         y: 0, opacity: 1, duration: 0.6, ease: "power2.out", stagger: 0.12, // Slightly faster stagger
                         scrollTrigger: {
                             trigger: '.declaration-container',
                             start: "top 75%", // Trigger a bit earlier
                             toggleActions: "play none none reset"
                         }
                     }
                 );
             }


            // Stagger animation for "Reasons" list items
            const reasonItems = gsap.utils.toArray('.reasons-container li');
             if (reasonItems.length > 0) {
                 gsap.fromTo(reasonItems,
                     { opacity: 0, x: -30 }, // Start slightly left
                     {
                         opacity: 1, x: 0, duration: 0.5, ease: "power2.out", stagger: 0.08, // Faster stagger
                         scrollTrigger: {
                             trigger: '.reasons-container ul',
                             start: "top 85%", // Trigger earlier
                             toggleActions: "play none none reset"
                         }
                     }
                 );
             }
        }


        /**
         * Inicializa a lÃ³gica do Carrossel. (IIFE)
         */
        (function initCarousel() {
            const wrapper = document.querySelector('.carousel-wrapper');
            if (!wrapper) return;

            const slides = wrapper.querySelectorAll(".carousel-slide");
            const dotsContainer = wrapper.querySelector(".carousel-dots");
            const prevButton = wrapper.querySelector(".carousel-button.prev");
            const nextButton = wrapper.querySelector(".carousel-button.next");
            const container = wrapper.querySelector(".carousel-container"); // The main container for slides

            let slideIndex = 1;
            let dots = [];
            let autoSlideInterval = null; // For potential auto-sliding
            const AUTO_SLIDE_DELAY = 5000; // 5 seconds for auto-slide (optional)

            // Hide section if no slides
            if (slides.length === 0) {
                const galleryContainer = wrapper.closest('.gallery-music-container');
                if (galleryContainer) galleryContainer.style.display = 'none';
                console.warn("Carrossel nÃ£o inicializado: Nenhum slide encontrado.");
                return;
            }

             // Hide nav elements if only 1 slide
             if (slides.length <= 1) {
                 if (prevButton) prevButton.style.display = 'none';
                 if (nextButton) nextButton.style.display = 'none';
                 // Hide dots container as well if only one slide
                 if (dotsContainer) dotsContainer.style.display = 'none';
             }


            /** Creates the indicator dots. */
            function createDots() {
                if (!dotsContainer || slides.length <= 1) return;
                dotsContainer.innerHTML = ''; // Clear existing
                dots = [];
                slides.forEach((_, i) => {
                    let dot = document.createElement("button"); // Use button for accessibility
                    dot.classList.add("dot");
                    dot.setAttribute('aria-label', `Ir para foto ${i + 1}`);
                    dot.addEventListener("click", () => {
                         currentSlide(i + 1);
                         // stopAutoSlide(); // Optional: Stop auto-slide on manual interaction
                    });
                    dotsContainer.appendChild(dot);
                    dots.push(dot);
                });
            }

            /** Shows the specific slide and updates dots. */
            function showSlide(n) {
                 if (slides.length === 0) return;

                 slideIndex = n > slides.length ? 1 : n < 1 ? slides.length : n;

                 slides.forEach(slide => slide.style.display = "none");
                 dots.forEach(dot => dot.classList.remove("active"));

                 if (slides[slideIndex - 1]) {
                     slides[slideIndex - 1].style.display = "block";
                 }
                 if (dots[slideIndex - 1]) {
                     dots[slideIndex - 1].classList.add("active");
                 }
            }

            /** Navigates to the next or previous slide. */
            function navigateSlide(n) {
                 showSlide(slideIndex += n);
                 // stopAutoSlide(); // Optional: Stop auto-slide on manual interaction
            }
            /** Goes directly to a specific slide. */
            function currentSlide(n) {
                 showSlide(slideIndex = n);
                 // stopAutoSlide(); // Optional: Stop auto-slide on manual interaction
             }

            // --- Optional: Auto Sliding ---
            /*
            function startAutoSlide() {
                 if (slides.length <= 1) return; // Don't auto-slide if only one
                 stopAutoSlide(); // Clear any existing interval
                 autoSlideInterval = setInterval(() => {
                     navigateSlide(1);
                 }, AUTO_SLIDE_DELAY);
             }

             function stopAutoSlide() {
                 clearInterval(autoSlideInterval);
                 autoSlideInterval = null;
             }

             // Start auto-sliding initially
             // startAutoSlide();

             // Pause on hover (optional)
             // container?.addEventListener('mouseenter', stopAutoSlide);
             // container?.addEventListener('mouseleave', startAutoSlide);
             // wrapper.querySelectorAll('button').forEach(btn => {
             //     btn.addEventListener('focus', stopAutoSlide);
             //     btn.addEventListener('blur', startAutoSlide);
             // });
             */
             // --- End Optional: Auto Sliding ---


            // Initialization
            createDots();
            showSlide(slideIndex); // Show the first slide

            // Event Listeners for buttons
            if (prevButton) prevButton.addEventListener("click", () => navigateSlide(-1));
            if (nextButton) nextButton.addEventListener("click", () => navigateSlide(1));

            // Event Listener for opening Lightbox on image click
            slides.forEach(slide => {
                const img = slide.querySelector('img');
                if (img && typeof window.openLightbox === 'function') {
                    img.addEventListener('click', (e) => {
                        e.stopPropagation();
                        window.openLightbox(img.src, img.alt);
                        // stopAutoSlide(); // Optional: Stop auto-slide when lightbox opens
                    });
                }
            });

            // Add swipe support
             let touchstartX = 0;
             let touchendX = 0;

             function handleGesture() {
                 if (slides.length <= 1) return;
                 const threshold = 50; // Min swipe distance
                 if (touchendX < touchstartX - threshold) navigateSlide(1); // Swipe left
                 if (touchendX > touchstartX + threshold) navigateSlide(-1); // Swipe right
             }

             // Use container for swipe events
             container?.addEventListener('touchstart', e => { touchstartX = e.changedTouches[0].screenX; }, { passive: true });
             container?.addEventListener('touchend', e => {
                 touchendX = e.changedTouches[0].screenX;
                 handleGesture();
                 // stopAutoSlide(); // Optional: Stop auto-slide on swipe
              }, { passive: true });

        })(); // Auto-executes


        /**
         * Inicializa a lÃ³gica do Lightbox com Focus Trap. (IIFE)
         */
        (function initLightbox() {
            const lightbox = document.getElementById('photo-lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const closeButton = lightbox?.querySelector('.lightbox-close');
            let previouslyFocusedElement = null; // To restore focus

            if (!lightbox || !lightboxImage || !closeButton) {
                 console.warn("Lightbox nÃ£o inicializado: Elementos nÃ£o encontrados.");
                 window.openLightbox = () => console.error("Lightbox nÃ£o estÃ¡ disponÃ­vel.");
                 return;
            }

             // Focusable elements within the lightbox
            const focusableElementsString = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
            let focusableElements = [];
            let firstFocusableElement = null;
            let lastFocusableElement = null;

            /** Opens the Lightbox */
            window.openLightbox = (src, alt) => {
                 if (!src) return;
                 previouslyFocusedElement = document.activeElement; // Save current focus

                 lightboxImage.src = src;
                 lightboxImage.alt = alt || "Foto Ampliada";
                 lightbox.classList.add('show');
                 body.classList.add('lightbox-open'); // Lock body scroll

                  // Update focusable elements list INSIDE the visible lightbox
                 focusableElements = Array.from(lightbox.querySelectorAll(focusableElementsString)).filter(el => el.offsetParent !== null);
                 firstFocusableElement = focusableElements[0]; // Usually the close button
                 lastFocusableElement = focusableElements[focusableElements.length - 1]; // Usually the close button too if it's the only one

                 // Move focus into the lightbox (typically the close button)
                 setTimeout(() => closeButton.focus(), 100); // Delay for CSS transitions

                 // Add focus trap listener
                 lightbox.addEventListener('keydown', trapFocus);
            };

            /** Closes the Lightbox */
            const closeLightbox = () => {
                 if (!lightbox.classList.contains('show')) return; // Already closed

                 lightbox.classList.remove('show');
                 body.classList.remove('lightbox-open'); // Unlock body scroll

                 // Remove focus trap listener
                 lightbox.removeEventListener('keydown', trapFocus);

                 // Clear image after transition to prevent "flash"
                 setTimeout(() => {
                     lightboxImage.src = '';
                     lightboxImage.alt = '';
                 }, 400); // Match CSS transition duration

                 // Restore focus to the element that opened the lightbox
                 previouslyFocusedElement?.focus();

                  // Restart carousel auto-slide if it was stopped
                 // if (typeof startAutoSlide === 'function') { // Check if function exists
                 //     startAutoSlide();
                 // }
            };

             /** Function to trap focus within the lightbox */
             function trapFocus(e) {
                 if (e.key !== 'Tab' || !firstFocusableElement || !lastFocusableElement) return; // Exit if not Tab or no focusable elements

                 if (e.shiftKey) { // Shift + Tab
                     if (document.activeElement === firstFocusableElement) {
                         lastFocusableElement.focus(); // Move focus to the last element
                         e.preventDefault();
                     }
                 } else { // Tab
                     if (document.activeElement === lastFocusableElement) {
                         firstFocusableElement.focus(); // Move focus to the first element
                         e.preventDefault();
                     }
                 }
             }

            // Event Listeners for closing
            closeButton.addEventListener('click', closeLightbox);
            // Close by clicking the background overlay
            lightbox.addEventListener('click', (e) => {
                 if (e.target === lightbox) { // Clicked directly on the overlay
                     closeLightbox();
                 }
            });
            // Close with the Escape key
            document.addEventListener('keydown', (e) => {
                 if (e.key === "Escape" && lightbox.classList.contains('show')) {
                     closeLightbox();
                 }
            });
        })(); // Auto-executes

        /**
         * Inicializa a lÃ³gica do Player de MÃºsica. (IIFE)
         */
        (function initMusicPlayer() {
            const music = document.getElementById('background-music');
            const playPauseButton = document.getElementById('play-pause-button');
            const songInfoElement = document.getElementById('song-info');
            const playIcon = playPauseButton?.querySelector('.play-icon');
            const pauseIcon = playPauseButton?.querySelector('.pause-icon');

            let isPlaying = false;
            let titleTimeoutId = null;

             // Check if essential elements exist
            if (!music || !playPauseButton || !songInfoElement || !playIcon || !pauseIcon) {
                const musicPlayerDiv = document.querySelector('.music-player');
                if (musicPlayerDiv) musicPlayerDiv.style.display = 'none'; // Hide the section
                console.warn("Player de MÃºsica nÃ£o inicializado: Elementos nÃ£o encontrados.");
                return;
            }

            // Get track title from data attribute (more robust)
            const trackTitle = music.dataset.title || "Nossa MÃºsica"; // Fallback
            const baseAriaLabel = trackTitle.replace(/ *\([^)]*\) */g, ""); // Remove parentheses for aria-label


            /** Shows the song title temporarily */
            const showSongInfo = () => {
                songInfoElement.innerHTML = `Tocando: <strong>${trackTitle}</strong>`; // Use innerHTML for bold
                songInfoElement.classList.add('visible');
                if (titleTimeoutId) clearTimeout(titleTimeoutId);
                // Hide after 5 seconds
                titleTimeoutId = setTimeout(hideSongInfo, 5000);
            };

            /** Hides the song title */
            const hideSongInfo = () => {
                songInfoElement.classList.remove('visible');
                if (titleTimeoutId) {
                    clearTimeout(titleTimeoutId);
                    titleTimeoutId = null;
                }
                // Optionally clear text after fade out
                // setTimeout(() => { songInfoElement.textContent = ''; }, 600); // Match CSS transition
            };

            /** Updates the Play/Pause button UI and state */
             const updatePlayPauseUI = (playing) => {
                 isPlaying = playing;
                 playIcon.style.display = playing ? 'none' : 'inline-block';
                 pauseIcon.style.display = playing ? 'inline-block' : 'none';
                 playPauseButton.setAttribute('aria-label', playing ? `Pausar ${baseAriaLabel}` : `Tocar ${baseAriaLabel}`);
                 if (!playing) {
                     hideSongInfo(); // Hide title when paused or ended
                 }
             };

            // Event Listener for the Play/Pause Button
            playPauseButton.addEventListener('click', () => {
                 if (isPlaying) {
                     music.pause();
                     // UI update is handled by the 'pause' event listener on the audio element
                 } else {
                     // Attempt to play the music
                     music.play().then(() => {
                         // Success - UI update handled by 'play' event listener
                         showSongInfo();
                     }).catch(error => {
                         // Failure (e.g., browser requires user interaction first)
                         console.warn("Erro ao tocar mÃºsica automaticamente:", error);
                         // Ensure UI reflects 'not playing' state
                         updatePlayPauseUI(false);
                         // Provide feedback to the user
                         songInfoElement.textContent = "Clique para tocar";
                         songInfoElement.classList.add('visible');
                         if (titleTimeoutId) clearTimeout(titleTimeoutId);
                         titleTimeoutId = setTimeout(hideSongInfo, 3000);
                     });
                 }
             });

             // Audio element event listeners to sync UI
             music.addEventListener('play', () => updatePlayPauseUI(true));
             music.addEventListener('pause', () => updatePlayPauseUI(false));
             music.addEventListener('ended', () => {
                 updatePlayPauseUI(false);
                 music.currentTime = 0; 
             });

            document.addEventListener('visibilitychange', () => {
                 if (document.visibilityState === 'hidden' && isPlaying) {
                     music.pause();
                 }
            });

             updatePlayPauseUI(false);

        })(); 


        initPreloader();

    </script>

</body>
</html>
